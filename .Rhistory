scale_fill_brewer(type = "seq", breaks = c(250000, 500000, 750000, 1000000, 1250000)) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, 6))
plot_usmap(data = as_alone_2000, values = "quartiles",labels=FALSE) +
scale_fill_brewer(type = "seq", breaks = c(250000, 500000, 750000, 1000000, 1250000)) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(type = "seq", breaks = c(250000, 500000, 750000, 1000000, 1250000)) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(breaks = c(250000, 500000, 750000, 1000000, 1250000)) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(breaks = c(250000, 500000, 750000, 1000000, 1250000), type = "YlGn") +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
?scale_fill_brewer
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(breaks = c(250000, 500000, 750000, 1000000, 1250000), palette = "YlGn") +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(breaks = c(250000, 500000, 750000, 1000000, 1250000), palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(breaks = c(250000, 500000, 750000, 1000000, 1250000), palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2000")
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, 6, dig.lab = 5))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, 6, dig.lab = 7))
?cut_number
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, length = 250000, dig.lab = 7))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, width = 250000, dig.lab = 7))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, width = 250000))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, length = 250000))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, length = 10))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 10))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 10, width = 250000))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 10, width = 250000, boundary = 0))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 10, length = 250000, boundary = 0))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5))
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quartiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2000")
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID) %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
plot_usmap(data = as_alone_2000, values = "quartiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2000")
plot_usmap(data = as_alone_2000, values = "quintiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2000")
View(r2010)
as_alone_2010 <- r2010 %>%
filter(variable == "P001006") %>%
rename(fips = GEOID) %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
r2010 <- redist_2010 %>%
left_join(vars_2010, by = c("variable" = "name")) %>%
select(-("concept")) %>%
separate(label, into = c("name1", "name2", "name3", "name4", "name5"), sep = "!!", fill = "right") %>%
filter(!(GEOID == "72"))
as_alone_2010 <- r2010 %>%
filter(variable == "P001006") %>%
rename(fips = GEOID) %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
as_alone_2010 <- r2010 %>%
filter(variable == "P001006") %>%
rename(fips = GEOID) %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
plot_usmap(data = as_alone_2010, values = "quintiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2010")
r2020 <- redist_2020 %>%
left_join(vars_2020, by = c("variable" = "name")) %>%
select(-("concept")) %>%
separate(label, into = c(NA, "name1", "name2", "name3", "name4", "name5"), sep = "!!", fill = "right") %>%
filter(!(GEOID == "72"))
View(r2020)
as_alone_2020 <- r2020 %>%
filter(variable == "P1_006N") %>%
rename(fips = GEOID) %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
plot_usmap(data = as_alone_2020, values = "quintiles") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2020")
as_alone_2000 <- r2000 %>%
filter(variable == "PL001006") %>%
rename(fips = GEOID)
map_alone_2000 <- as_alone_2000 %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
as_alone_2010 <- r2010 %>%
filter(variable == "P001006") %>%
rename(fips = GEOID)
map_alone_2010 <- as_alone_2010 %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
as_alone_2020 <- r2020 %>%
filter(variable == "P1_006N") %>%
rename(fips = GEOID)
map_alone_2020 <- as_alone_2020 %>%
mutate(quintiles = cut_number(value, n = 5, width = 1, center = 0, boundary = 0.5, dig.lab = 7))
View(as_alone_2000)
change_cen <- as_alone_2000 %>%
filter(-c(3, 5:9))
change_cen <- as_alone_2000 %>%
filter(-3, -(5:9))
change_cen <- as_alone_2000 %>%
filter(-(3), -(5:9))
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9))
View(change_cen)
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value)
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value) %>%
left_join(as_alone_2010, by = c("fips", "NAME"))
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value) %>%
left_join(as_alone_2010, by = c("fips", "NAME")) %>%
select(-4, -(6:10)) %>%
rename(cen2010 = value) %>%
left_join(as_alone_2020, by = c("fips", "NAME"))
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value) %>%
left_join(as_alone_2010, by = c("fips", "NAME")) %>%
select(-4, -(6:10)) %>%
rename(cen2010 = value) %>%
left_join(as_alone_2020, by = c("fips", "NAME")) %>%
select(-5, -(7:11)) %>%
rename(cen2020 = value)
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value) %>%
left_join(as_alone_2010, by = c("fips", "NAME")) %>%
select(-4, -(6:10)) %>%
rename(cen2010 = value) %>%
left_join(as_alone_2020, by = c("fips", "NAME")) %>%
select(-5, -(7:11)) %>%
rename(cen2020 = value) %>%
mutate(chg_2000to2010 = cen2010 - cen2000,
chg_2000to2020 = cen2020 - cen2000,
chg_2010to2020 = cen2020 - cen2010)
plot_usmap(data = change_cen, values = "chg_2000to2010") +
scale_fill_brewer(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2020")
plot_usmap(data = change_cen, values = "chg_2000to2010") +
scale_fill_continuous(palette = "YlGn") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2020")
plot_usmap(data = change_cen, values = "chg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2020")
change_cen <- as_alone_2000 %>%
select(-(3), -(5:9)) %>%
rename(cen2000 = value) %>%
left_join(as_alone_2010, by = c("fips", "NAME")) %>%
select(-4, -(6:10)) %>%
rename(cen2010 = value) %>%
left_join(as_alone_2020, by = c("fips", "NAME")) %>%
select(-5, -(7:11)) %>%
rename(cen2020 = value) %>%
mutate(chg_2000to2010 = cen2010 - cen2000,
chg_2000to2020 = cen2020 - cen2000,
chg_2010to2020 = cen2020 - cen2010,
pchg_2000to2010 = chg_2000to2010 / cen2000 * 100)
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Asian Alone Population by State, Census 2020")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth: Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right",
legend.title = "Percent") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right",
legend.title = element_text("Percent")) +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous() +
labs(fill = "Percent") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
?scale_fill_continuous
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous(type = "virdis") +
labs(fill = "Percent") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = change_cen, values = "pchg_2000to2010") +
scale_fill_continuous(type = "viridis") +
labs(fill = "Percent") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
library(tidyverse)
library(tidycensus)
options(scipen = 999) # No scientific notation
readRenviron("~/.Renviron") # Reload .Renviron file cleanly
# Requires you to have your api key saved as CENSUS_API_KEY in your .Renviron file
census_api_key(key = Sys.getenv("CENSUS_API_KEY"))
vars_2010 <- load_variables(2010, "pl", cache = TRUE)
vars_2020 <- load_variables(2020, "pl", cache = TRUE)
vars_2010_sf1 <- load_variables(2010, "sf1", cache = TRUE)
v2010_components <- read_csv("Raw/co-est2010-alldata.csv") #used for GQ only
v2010_characteristics <- read_csv("https://www2.census.gov/programs-surveys/popest/datasets/2010/2010-eval-estimates/cc-est2010-alldata.csv") #used for characteristics and total
v2010_housing <- read_csv("Raw/hu-est2010.csv") #used for housing units
v2012_characteristics <- read_csv("Raw/cc-est2012-alldata.csv") #used for Census 2010 characteristics
v2010_co18_chars <- read_csv("https://www2.census.gov/programs-surveys/popest/datasets/2010-2020/counties/asrh/CC-EST2020-AGESEX-ALL.csv")
list_length <- c(1:73)
list_char <- ifelse(list_length < 10, paste0("0", as.character(list_length)), as.character(list_length))
vec_2010 <- c(paste0("P0020", list_char), paste0("P0040", list_char))
redist_2010 <- get_decennial(geography = "county",
variables = vec_2010,
year = 2010,
sumfile = "pl")
sf1_2010 <- get_decennial(geography = "county",
variables = c(GQ_TOT = "P042001"),
year = 2010,
sumfile = "sf1")
hu_2010 <- get_decennial(geography = "county",
variables = c(HU_TOT = "H001001",
HU_VAC = "H001003"),
year = 2010,
sumfile = "pl")
# GQ Only -- they did not publish April, 2010 estimates so I have to do my own interpolation.
v2010_gq <- v2010_components %>%
filter(SUMLEV == "050") %>%
mutate(GEOID = paste0(STATE, COUNTY)) %>%
select(GEOID, STNAME, CTYNAME, GQESTIMATES2010, GQESTIMATES2009) %>%
mutate(GQ_TOT = round(GQESTIMATES2009 + ((GQESTIMATES2010 - GQESTIMATES2009) / 12) * 9))%>%
select(GEOID, GQ_TOT)
# HU only
v2010_hu <- v2010_housing %>%
filter(sumlev == "050") %>%
mutate(GEOID = paste0(state, county)) %>%
select(GEOID, huest_042010)
v2010_uo18 <- v2010_co18_chars %>%
filter(YEAR == "13") %>%
mutate(AGE20PLUS_TOT = AGE2024_TOT + AGE2544_TOT + AGE4564_TOT + AGE65PLUS_TOT,
AGE18P_PROP = ifelse(AGE20PLUS_TOT == 0, 0, AGE18PLUS_TOT / AGE20PLUS_TOT),
STATE = ifelse(STATE < 10, paste0("0", as.character(STATE)), as.character(STATE)),
COUNTY = ifelse(COUNTY < 10, paste0("00", as.character(COUNTY)),
ifelse(COUNTY < 100, paste0("0", as.character(COUNTY)), as.character(COUNTY))),
GEOID = paste0(STATE, COUNTY)) %>%
select(GEOID, AGE18P_PROP)
v2010_total <- v2010_characteristics %>%
filter(YEAR == "13" & AGEGRP == 0) %>%
mutate(POP_TOT = TOT_POP,
NH_WA_TOT = NHWA_MALE + NHWA_FEMALE,
NH_BA_TOT = NHBA_MALE + NHBA_FEMALE,
NH_AI_TOT = NHIA_MALE + NHIA_FEMALE,
NH_AA_TOT = NHAA_MALE + NHAA_FEMALE,
NH_NA_TOT = NHNA_MALE + NHNA_FEMALE,
NH_TOM_TOT = NHTOM_MALE + NHTOM_FEMALE,
H_TOT_TOT = H_MALE + H_FEMALE,
STATE = ifelse(STATE < 10, paste0("0", as.character(STATE)), as.character(STATE)),
COUNTY = ifelse(COUNTY < 10, paste0("00", as.character(COUNTY)),
ifelse(COUNTY < 100, paste0("0", as.character(COUNTY)), as.character(COUNTY))),
GEOID = paste0(STATE, COUNTY)) %>%
select(GEOID, POP_TOT, NH_WA_TOT, NH_BA_TOT, NH_AI_TOT, NH_AA_TOT, NH_NA_TOT, NH_TOM_TOT, H_TOT_TOT) %>%
pivot_longer(cols = c(2:9), names_to = "variable", values_to = "est_tot_2010")
library(tidyverse)
comparison_2020 <- read_csv("Output/county_main.csv")
View(comparison_2020)
summary_stats <- comparison_2020 %>%
summarize(aa_mean = mean(SHARE_NH_AA_DIFF),
aa_min = mean(SHARE_NH_AA_DIFF),
aa_max = mean(SHARE_NH_AA_DIFF))
View(summary_stats)
summary_stats <- comparison_2020 %>%
summarize(aa_mean = mean(SHARE_NH_AA_DIFF),
aa_min = min(SHARE_NH_AA_DIFF),
aa_max = max(SHARE_NH_AA_DIFF))
View(summary_stats)
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24)
View(diff_2020)
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT)
plot_usmap(data = diff_2020, values = "numer_dif") +
scale_fill_continuous(type = "viridis") +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT) %>%
rename(fips = GEOID)
plot_usmap(data = diff_2020, values = "numer_dif") +
scale_fill_continuous(type = "viridis") +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
ggplot(data = diff_2020, aes(x = numer_dif)) +
geom_histogram()
summary_stats <- diff_2020 %>%
summarize(aa_min = min(numer_dif),
aa_max = max(numer_dif))
View(summary_stats)
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT) %>%
rename(fips = GEOID) %>%
arrange(numer_dif)
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT,
n_buckets = ifelse(numer_dif > 0, "Positive",
ifelse(numer_dif < 0, "Negative", "Zero"))) %>%
rename(fips = GEOID) %>%
arrange(numer_dif)
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_continuous(type = "viridis") +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_discrete(type = "viridis") +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_discrete() +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual("Green", "Orange", "Grey") +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(c("Green", "Orange", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
?scale_fill_manual
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(values = c("Green", "Orange", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(values = c("Blue", "Orange", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT,
n_buckets = ifelse(numer_dif > 500, "Positive",
ifelse(numer_dif < -500, "Negative", "Zero"))) %>%
rename(fips = GEOID) %>%
arrange(numer_dif)
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(values = c("Blue", "Orange", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(values = c("Orange", "Blue", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Percent Growth in the Asian Alone Population by State, Census 2000 to Census 2010")
plot_usmap(data = diff_2020, values = "n_buckets") +
scale_fill_manual(values = c("Orange", "Blue", "Grey")) +
labs(fill = "Numeric") +
theme(panel.background = element_rect(colour = "black")) +
theme(legend.position = "right") +
labs(title = "Numeric Different between the Census and the Estimates, 2020",
subtitle = "Positive means Census is higher by over 500, Negative means Estimates are higher by over 500")
per_dif = ifelse(numer_dif = 0, 0, numer_dif/CEN_NH_AA_TOT*100) %>%
arrange(desc(numer_dif))
per_dif = ifelse(numer_dif == 0, 0, numer_dif/CEN_NH_AA_TOT*100) %>%
diff_2020 <- comparison_2020 %>%
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT,
n_buckets = ifelse(numer_dif > 500, "Positive",
ifelse(numer_dif < -500, "Negative", "Zero")),
per_dif = ifelse(numer_dif == 0, 0, numer_dif/CEN_NH_AA_TOT*100)) %>%
rename(fips = GEOID) %>%
arrange(desc(numer_dif))
summary_stats <- diff_2020 %>%
summarize(aa_min = min(numer_dif),
aa_max = max(numer_dif))
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT,
n_buckets = ifelse(numer_dif > 500, "Positive",
ifelse(numer_dif < -500, "Negative", "Zero")),
per_dif = ifelse(numer_dif == 0, 0, numer_dif/CEN_NH_AA_TOT*100)) %>%
rename(fips = GEOID) %>%
arrange(desc(numer_dif))
diff_2020 <- comparison_2020 %>%
select(1:5, 13, 24) %>%
mutate(numer_dif = CEN_NH_AA_TOT - EST_NH_AA_TOT,
n_buckets = ifelse(numer_dif > 500, "Positive",
ifelse(numer_dif < -500, "Negative", "Zero")),
per_dif = ifelse(numer_dif == 0, 0, numer_dif/CEN_NH_AA_TOT*100)) %>%
rename(fips = GEOID) %>%
arrange(numer_dif)
